<!DOCTYPE html>
<html lang="en">

<head>
    <title>Base64coder</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-KyZXEAg3QhqLMpG8r+8fhAXLRk2vvoC2f3B09zVXn8CA5QIVfZOJ3BCsw2P0p/We" crossorigin="anonymous">
    <!-- Bootstrap 3 (for Glyphicons) -->
    <link rel='stylesheet' href='https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css'>
    <!-- Bootstrap 5 JavaScript Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-U1DAWAznBHeqEIlVSCgzq+c9gqGAJn5c/t99JyeKa9xxaYpSvHU5awsuZVVFIhvj"
        crossorigin="anonymous"></script>
    <link rel="stylesheet" href="baseStyle.css">
    <style>
        /* Remove the navbar's default margin-bottom and rounded borders */
        .navbar {
            margin-bottom: 0;
            border-radius: 0;
        }

        /* Set height of the grid so .sidenav can be 100% (adjust as needed) */
        .row.content {
            height: 450px
        }

        /* Set gray background color and 100% height */
        .sidenav {
            padding-top: 20px;
            background-color: #f1f1f1;
            height: 100%;
        }

        /* Set black background color, white text and some padding */
        footer {
            background-color: #555;
            color: white;
            padding: 15px;
        }

        /* On small screens, set height to 'auto' for sidenav and grid */
        @media screen and (max-width: 767px) {
            .sidenav {
                height: auto;
                padding: 15px;
            }

            .row.content {
                height: auto;
            }
        }
    </style>
</head>

<body>

    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <!-- Container wrapper -->
        <div class="container-fluid">

            <!-- Left links -->
            <div class="col-sm-8 text-center">
                <h1>Base64 Encoder | Decoder</h1>
                <!-- Left links -->
            </div>
            <!-- Container wrapper -->
    </nav>



    <div class="container text-center" style="padding-top:70px">


        <div class="row ">
           
            <div class="col-sm">

                <h3>Current mode: <select id="bootstrap-select" onchange="processText()">
                        <option id="1" value="1" selected="selected">Encode</option>
                        <option id="2" value="2">Decode</option>
                    </select>
                </h3>

            </div>

        </div>

        <div class="row" style="padding-top: 50px;">

    
            <div class="col-md">

                <div class="col ">
                    <textarea id="textinput" placeholder="Input here..." onchange="processText()"
                        onkeydown="processText()"></textarea>
                </div>

                <div class="col text-center">
                    <label><a class="quicklink" href="#">upload</a><a class="quicklink" href="#">clear</a></label>

                </div>


            </div>
            <div class="col-md ">

                <div class="col">
                    <textarea id="textoutput" disabled="true"></textarea>
                </div>

                <div class="col text-center">
                    <label><a class="quicklink" href="#">download</a><a class="quicklink" href="#">copy</a></label>
                </div>
            </div>


        </div>



    </div>




    <footer class="container-fluid  text-center">
        Â©<span id="year"></span> Base64EncodeDecode.tk
    </footer>

    <script>
        //by default it should be encode
        //onclick change the lable of the button to Decode or make it a drop down
        window.onload = () => {
            document.getElementById("year").innerHTML = new Date().getFullYear();
        }

        function processText() {
            let selector = document.getElementById("bootstrap-select");
            let value = selector.value;
            let textinput = document.getElementById('textinput');
            let textoutput = document.getElementById('textoutput');
            let input = textinput.value;

            if (value == 1) {
                textoutput.value = encode(input);
            } else if (value == 2) {
                textoutput.value = decode(input);
            } else {
                alert("Error: Invalid selection was made. Try again");
            }

            textinput = "";
            textoutput = "";
            selector = "";
            input = "";


        }

        function encode(input) {
            //Binary to ASCII
            return btoa(input);
        }

        function decode(input) {
            //ASCII to Binary
            return atob(input);
        }
    </script>
</body>

</html>